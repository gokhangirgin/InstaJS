var InstaOAuth=function(e){var t=location.href;if(t.indexOf("access_token")===-1){var t="https://instagram.com/oauth/authorize/?";for(var n in e){if(e[n]!=undefined&&e[n]!=null)t+=n+"="+e[n]+"&"}t+="response_type=token";location.href=t}else{var r=location.href.split("#")[1];r=r.split("=")[1];e.result(r)}};var InstaJS=function(e){if(e.access_token==undefined&&e.client_id==undefined){alert("Access Token or ClientId must be provided");return}this.Token=e;var t=this;this.MakeRequest=function(e,n,r,i,s,o){function u(e,t){var n=document.createElement("script");n.src=e;n.type="text/javascript";if(document.getElementsByTagName("head").length>0)document.getElementsByTagName("head")[0].appendChild(n);window["_loaded_"+t]=function(e){o(e)}}if(s&&(t.access_token==undefined||t.access_token==null)){console.log("This method requires access token");return}if((t.Token.access_token==undefined||t.Token.access_token==null)&&(t.Token.client_id==undefined||t.Token.client_id==null)){console.log("Access Token or Client Id must be provided to make api requests");return}var a=e+n.join("/");a+="?";a+=t.Token.access_token!=undefined&&t.Token.access_token!=null&&t.Token.access_token.length>1?"access_token="+t.Token.access_token:"client_id="+t.Token.client_id;if(window.XMLHttpRequest)http=new XMLHttpRequest;else http=new ActiveXObject("Microsoft.XMLHTTP");var f=Math.floor(Math.random()*1e3+1);http.onreadystatechange=function(){if(http.readyState==4){o(JSON.parse(http.target.response))}};if(i=="POST"){postData="";if(r!=undefined&&r!=null){for(var l in r){if(r[l]!=undefined&&r[l]!=null)postData+=l+"="+r[l]+"&"}a+="&callback=_loaded_"+f;u(a,f)}http.setRequestHeader("Content-type","application/x-www-form-urlencoded");http.setRequestHeader("Content-length",postData.length);http.setRequestHeader("Connection","close");http.open("POST",a,true);http.send(postData)}else{if(r!=undefined&&r!=null){for(var l in r){if(r[l]!=undefined&&r[l]!=null)a+="&"+l+"="+r[l]}a+="&callback=_loaded_"+f;u(a,f)}http.open(i,a,true)}};this.Users={BaseURL:"https://api.instagram.com/v1/users/",Info:function(e){t.MakeRequest(this.BaseURL,[e.id],null,"GET",false)},Stream:function(e){t.MakeRequest(this.BaseURL,["self","feed"],{count:e.count,min_id:e.min_id,max_id:e.max_id},"GET",false,e.result)},RecentMedia:function(e){t.MakeRequest(this.BaseURL,[user_id,"self","feed"],{count:e.count,min_id:e.min_id,max_id:e.max_id,max_timestamp:e.max_timestamp,min_timestamp:e.min_timestamp},"GET",false,e.result)},Likes:function(e){t.MakeRequest(this.BaseURL,["self","media","liked"],{count:e.count,max_like_id:e.max_like_id},"GET",true,e.result)},Search:function(e){t.MakeRequest(this.BaseURL,["search"],{q:e.q,count:e.count},"GET",false,e.result)}};this.Media={BaseURL:"https://api.instagram.com/v1/media/",Get:function(e){t.MakeRequest(this.BaseURL,[e.media_id],null,"GET",false,e.result)},Search:function(e){t.MakeRequest(this.BaseURL,["search"],{lat:e.lat,lng:e.lng,distance:e.distance,min_timestamp:e.min_timestamp,max_timestamp:e.max_timestamp},"GET",false,e.result)},Popular:function(e){t.MakeRequest(this.BaseURL,["popular"],{count:e.count,min_id:e.min_id,max_id:e.max_id},"GET",false,e.result)}};this.Relationships={BaseURL:"https://api.instagram.com/v1/users/",Follows:function(e){t.MakeRequest(this.BaseURL,[e.user_id,"follows"],null,"GET",false,e.result)},FollowedBy:function(e){t.MakeRequest(this.BaseURL,[e.user_id,"followed-by"],null,"GET",false,e.result)},RequestedBy:function(){t.MakeRequest(this.BaseURL,["self","requested-by"],null,"GET",true)},Status:function(e){t.MakeRequest(this.BaseURL,[e.user_id,"relationship"],null,"GET",true,e.result)},New:function(e){t.MakeRequest(this.BaseURL,[e.user_id,"relationship"],{action:action},null,"POST",true,e.result)}};this.Comments={BaseURL:"https://api.instagram.com/v1/media/",Get:function(e){t.MakeRequest(this.BaseURL,[e.media_id,"comments"],null,"GET",false,e.result)},New:function(e){t.MakeRequest(this.BaseURL,[e.media_id,"comments"],{text:e.text},"POST",true,e.result)},Remove:function(e){t.MakeRequest(this.BaseURL,[e.media_id,"comments",e.comment_id],null,"DELETE",true,e.result)}};this.Likes={BaseURL:"https://api.instagram.com/v1/media/",Get:function(e){t.MakeRequest(this.BaseURL,[e.media_id,"likes"],null,"GET",false,e.result)},New:function(e){t.MakeRequest(this.BaseURL,[e.media_id,"likes"],null,"POST",true,e.result)},Remove:function(e){t.MakeRequest(this.BaseURL,[opts.media_id,"likes"],null,"DELETE",true,opts.result)}};this.Tags={BaseURL:"https://api.instagram.com/v1/tags/",Info:function(e){t.MakeRequest(this.BaseURL,[e.tag_name],null,"GET",false,e.result)},Feeds:function(e){t.MakeRequest(this.BaseURL,[e.tag_name,"media","recent"],{max_id:e.max_id,min_id:e.min_id},"GET",false,e.result)},Search:function(e){t.MakeRequest(this.BaseURL,["search"],{q:e.q},"GET",false,e.result)}};this.Locations={BaseURL:"https://api.instagram.com/v1/locations/",Get:function(e){t.MakeRequest(this.BaseURL,[e.location_id],null,"GET",false,e.result)},Feeds:function(e){t.MakeRequest(this.BaseURL,[e.location_id,"media","recent"],null,"GET",false,e.result)},Search:function(e){t.MakeRequest(this.BaseURL,["search"],{lat:e.lat,lng:e.lng,distance:e.distance,foursquare_id:e.foursquare_id,foursquare_v2_id:e.foursquare_v2_id},"GET",false,e.result)}};this.Geographies={BaseURL:"https://api.instagram.com/v1/geographies/",Media:function(e){t.MakeRequest(this.BaseURL,[e.geo_id,"media","recent"],{geo_id:e.geo_id,count:e.count,min_id:e.min_id},"GET",false,e.result)}}}